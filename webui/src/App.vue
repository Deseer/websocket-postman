<template>
  <div class="app-container">
    <!-- ä¾§è¾¹æ  -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h1>ğŸ”Œ æŒ‡ä»¤åˆ†é…å™¨</h1>
        <p>WebSocket Postman</p>
      </div>
      
      <el-menu
        :default-active="currentRoute"
        router
        :collapse="false"
      >
        <el-menu-item index="/dashboard">
          <el-icon><Monitor /></el-icon>
          <span>ä»ªè¡¨ç›˜</span>
        </el-menu-item>
        
        <el-menu-item index="/command-sets">
          <el-icon><Collection /></el-icon>
          <span>æŒ‡ä»¤é›†ç®¡ç†</span>
        </el-menu-item>
        
        <el-menu-item index="/users">
          <el-icon><User /></el-icon>
          <span>ç”¨æˆ·ç®¡ç†</span>
        </el-menu-item>
        
        <el-menu-item index="/connections">
          <el-icon><Connection /></el-icon>
          <span>è¿æ¥ç®¡ç†</span>
        </el-menu-item>
        
        <el-menu-item index="/access-lists">
          <el-icon><List /></el-icon>
          <span>é»‘ç™½åå•</span>
        </el-menu-item>
        
        <el-menu-item index="/settings">
          <el-icon><Setting /></el-icon>
          <span>ç³»ç»Ÿè®¾ç½®</span>
        </el-menu-item>
      </el-menu>
    </aside>
    
    <!-- ä¸»å†…å®¹åŒº -->
    <main class="main-content">
      <header class="header">
        <h2>{{ pageTitle }}</h2>
        <div class="header-right">
          <el-button type="primary" text @click="refreshData">
            <el-icon><Refresh /></el-icon>
            åˆ·æ–°
          </el-button>
        </div>
      </header>
      
      <div class="content">
        <router-view v-slot="{ Component }">
          <transition name="fade" mode="out-in">
            <component :is="Component" />
          </transition>
        </router-view>
      </div>
    </main>
  </div>
</template>

<script setup>
import { computed } from 'vue'
import { useRoute } from 'vue-router'

const route = useRoute()

const currentRoute = computed(() => route.path)

const pageTitle = computed(() => route.meta.title || 'ä»ªè¡¨ç›˜')

const refreshData = () => {
  window.location.reload()
}
</script>
